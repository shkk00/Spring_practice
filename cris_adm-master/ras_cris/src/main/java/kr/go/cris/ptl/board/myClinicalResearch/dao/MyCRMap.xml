<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.go.cris.ptl.board.myClinicalResearch.dao.MyCRDao">

	<select id="selectMyRegistration_mng"  parameterType="java.util.Map" resultType="java.util.Map">
 		SELECT * FROM
    (
        SELECT 
        	SEQ, SEQ_GROUP 
        	, STATUS
        	, VERSION
        	, SYSTEM_NUMBER
        	, RESEARCH_NUMBER
        	, TO_CHAR(RESEARCH_TITLE_KR) AS RESEARCH_TITLE_KR
        , TO_CHAR( INS_DATE, 'YYYY-MM-DD') AS INS_DATE
        , TO_CHAR( SUB_DATE, 'YYYY-MM-DD') AS SUB_DATE 
        , TO_CHAR( APP_DATE, 'YYYY-MM-DD') AS APP_DATE
        , TO_CHAR( UDT_DATE, 'YYYY-MM-DD') AS UDT_DATE
        , TO_CHAR( LAST_DATE, 'YYYY-MM-DD') AS LAST_DATE
        , (SELECT STUDY_EMAIL_CONFIRM FROM CRIS_PERSON WHERE CRIS_SEQ=A.SEQ AND GUBUN='WORK') AS WORKSTAT
        , (SELECT STUDY_EMAIL_CONFIRM FROM CRIS_PERSON WHERE CRIS_SEQ=A.SEQ AND GUBUN='CHARGE') AS CHARGESTAT
        , (SELECT TO_CHAR(CONF_DATE,'YYYY-MM-DD') FROM CRIS_PERSON WHERE CRIS_SEQ=A.SEQ AND GUBUN='WORK') AS WORKCONFDATE
        , (SELECT TO_CHAR(CONF_DATE,'YYYY-MM-DD') FROM CRIS_PERSON WHERE CRIS_SEQ=A.SEQ AND GUBUN='CHARGE') AS CHARGECONFDATE        
        , (SELECT SEQ FROM CRIS_DATA WHERE SEQ_GROUP=A.SEQ_GROUP AND STATUS='6') AS TEMP_SEQ
        FROM CRIS_DATA A
        WHERE STATUS IN ('0')
       <if test = "userId != null and userId != ''">
        AND REG_ID = #{userId}
       </if>
        UNION ALL
        SELECT
        A.SEQ, A.SEQ_GROUP , STATUS, VERSION, SYSTEM_NUMBER
        , RESEARCH_NUMBER, TO_CHAR(RESEARCH_TITLE_KR) AS RESEARCH_TITLE_KR
        , TO_CHAR( INS_DATE, 'YYYY-MM-DD') AS INS_DATE
        , TO_CHAR( SUB_DATE, 'YYYY-MM-DD') AS SUB_DATE 
        , TO_CHAR( APP_DATE, 'YYYY-MM-DD') AS APP_DATE
        , TO_CHAR( UDT_DATE, 'YYYY-MM-DD') AS UDT_DATE
        , TO_CHAR( LAST_DATE, 'YYYY-MM-DD') AS LAST_DATE
        , (SELECT STUDY_EMAIL_CONFIRM FROM CRIS_PERSON WHERE CRIS_SEQ=A.SEQ AND GUBUN='WORK') AS WORKSTAT
        , (SELECT STUDY_EMAIL_CONFIRM FROM CRIS_PERSON WHERE CRIS_SEQ=A.SEQ AND GUBUN='CHARGE') AS CHARGESTAT
        , (SELECT TO_CHAR(CONF_DATE,'YYYY-MM-DD') FROM CRIS_PERSON WHERE CRIS_SEQ=A.SEQ AND GUBUN='WORK') AS WORKCONFDATE
        , (SELECT TO_CHAR(CONF_DATE,'YYYY-MM-DD') FROM CRIS_PERSON WHERE CRIS_SEQ=A.SEQ AND GUBUN='CHARGE') AS CHARGECONFDATE        
        , (SELECT SEQ FROM CRIS_DATA WHERE SEQ_GROUP=A.SEQ_GROUP AND STATUS='6') AS TEMP_SEQ
        FROM CRIS_DATA A,
        CRIS_MID_VERSION B
        WHERE A.SEQ_GROUP = B.SEQ_GROUP
        AND A.SEQ = B.SEQ
        AND A.STATUS IN ('1','2','3','4')
        <if test = "userId != null and userId != ''">
        AND REG_ID = #{userId}
       </if>
        UNION ALL
        SELECT A.SEQ, A.SEQ_GROUP , STATUS, VERSION, SYSTEM_NUMBER
        , RESEARCH_NUMBER, TO_CHAR(RESEARCH_TITLE_KR) AS RESEARCH_TITLE_KR
        , TO_CHAR( INS_DATE, 'YYYY-MM-DD') AS INS_DATE
        , TO_CHAR( SUB_DATE, 'YYYY-MM-DD') AS SUB_DATE    
        , TO_CHAR( APP_DATE, 'YYYY-MM-DD') AS APP_DATE
        , TO_CHAR( UDT_DATE, 'YYYY-MM-DD') AS UDT_DATE
        , TO_CHAR( LAST_DATE, 'YYYY-MM-DD') AS LAST_DATE
        , (SELECT STUDY_EMAIL_CONFIRM FROM CRIS_PERSON WHERE CRIS_SEQ=A.SEQ AND GUBUN='WORK') AS WORKSTAT
        , (SELECT STUDY_EMAIL_CONFIRM FROM CRIS_PERSON WHERE CRIS_SEQ=A.SEQ AND GUBUN='CHARGE') AS CHARGESTAT
        , (SELECT TO_CHAR(CONF_DATE,'YYYY-MM-DD hh24:mi:ss') FROM CRIS_PERSON WHERE CRIS_SEQ=A.SEQ AND GUBUN='WORK') AS WORKCONFDATE
        , (SELECT TO_CHAR(CONF_DATE,'YYYY-MM-DD hh24:mi:ss') FROM CRIS_PERSON WHERE CRIS_SEQ=A.SEQ AND GUBUN='CHARGE') AS CHARGECONFDATE            
        , (SELECT SEQ FROM CRIS_DATA WHERE SEQ_GROUP=A.SEQ_GROUP AND STATUS='6') AS TEMP_SEQ
        FROM
        CRIS_DATA A, CRIS_LAST_VERSION B
        WHERE A.SEQ_GROUP = B.SEQ_GROUP
        AND
        A.SEQ = B.SEQ AND A.STATUS IN ('5')
        <if test = "userId != null and userId != ''">
        AND REG_ID = #{userId}
       </if>
    ) A
    ORDER BY STATUS, UDT_DATE DESC, INS_DATE DESC
	</select> 
	<select id="selectRegSubmission"  parameterType="java.util.Map" resultType="java.util.Map">
		SELECT 
            A.SEQ, A.CRIS_SEQ,
            A.LAST_STAT, A.CHANGE_STAT,
            (SELECT CODE_NAME FROM CRIS_REASON_CODE WHERE CODE_TYPE = 'STATUS' AND LAST_STAT=CODE) AS LAST_STAT_AL,
            (SELECT CODE_NAME FROM CRIS_REASON_CODE WHERE CODE_TYPE = 'STATUS' AND CHANGE_STAT=CODE) AS CHANGE_STAT_AL,
            A.CHANGE_DATE, TO_CHAR(A.CHANGE_DATE,'YYYY-MM-DD(HH24:MI:SS)') AS CHANGE_DATE_AL, 
            TO_CHAR(A.CHARGE_DATE,'YYYY-MM-DD(HH24:MI:SS)') AS CHARGE_DATE, 
            TO_CHAR(A.WORK_DATE,'YYYY-MM-DD(HH24:MI:SS)') AS WORK_DATE, 
            NVL(A.CHARGE_CANCEL,'N') AS CHARGE_CANCEL,
            NVL(A.WORK_CANCEL,'N') AS WORK_CANCEL,
            A.CRIS_SEQ_GROUP,
            B.STAT_REASON, (SELECT CODE_NAME FROM CRIS_REASON_CODE WHERE CODE_TYPE = 'RESEARCHCR' AND STAT_REASON=CODE) AS CODE_NAME, B.STAT_REASON_ETC 
        FROM CRIS_STAT_RECORD A, CRIS_STAT_REASON B
        WHERE A.SEQ = B.RECORD_SEQ(+)
            AND A.CRIS_SEQ IN (SELECT SEQ FROM CRIS_DATA
                WHERE SEQ_GROUP = (SELECT SEQ_GROUP FROM CRIS_DATA WHERE SEQ = #{seq})) 
        ORDER BY A.SEQ DESC, B.STAT_REASON
	</select>
	
	<resultMap type="HashMap" id="reInfoMap">
		<result property="TARGET_OUT_KR" column="TARGET_OUT_KR" jdbcType="CLOB" javaType="java.lang.String" />
		<result property="RESEARCH_SUMMARY_KR" column="RESEARCH_SUMMARY_KR" jdbcType="CLOB" javaType="java.lang.String" />
		<result property="TARGET_IN_EN" column="TARGET_IN_EN" jdbcType="CLOB" javaType="java.lang.String" />
		<result property="SAMPLING_METHOD_KR" column="SAMPLING_METHOD_KR" jdbcType="CLOB" javaType="java.lang.String" />
		<result property="STUDY_POPULATION_DESC_EN" column="STUDY_POPULATION_DESC_EN" jdbcType="CLOB" javaType="java.lang.String" />
		<result property="ARM_DESC_KR" column="ARM_DESC_KR" jdbcType="CLOB" javaType="java.lang.String" />
		<result property="RESEARCH_SUMMARY_EN" column="RESEARCH_SUMMARY_EN" jdbcType="CLOB" javaType="java.lang.String" />
		<result property="STUDY_POPULATION_DESC_KR" column="STUDY_POPULATION_DESC_KR" jdbcType="CLOB" javaType="java.lang.String" />
		<result property="TARGET_IN_KR" column="TARGET_IN_KR" jdbcType="CLOB" javaType="java.lang.String" />
		<result property="ARM_DESC_EN" column="ARM_DESC_EN" jdbcType="CLOB" javaType="java.lang.String" />
		<result property="SAMPLING_METHOD_EN" column="SAMPLING_METHOD_EN" jdbcType="CLOB" javaType="java.lang.String" />
		<result property="TARGET_OUT_EN" column="TARGET_OUT_EN" jdbcType="CLOB" javaType="java.lang.String" />
	</resultMap>
	
	<select id="selectRegRsInfo"  parameterType="java.util.Map" resultType="java.util.Map" resultMap="reInfoMap">
		 WITH PERSONC AS(
	            SELECT CRIS_SEQ, GUBUN, STUDY_EMAIL_CONFIRM, EMAIL, STUDY_EMAIL_KEY 
	            FROM CRIS_PERSON
	            WHERE GUBUN = 'CHARGE' 
	            AND CRIS_SEQ = #{seq}
	        ), PERSONW AS(
	            SELECT CRIS_SEQ, GUBUN, STUDY_EMAIL_CONFIRM, EMAIL, STUDY_EMAIL_KEY 
	            FROM CRIS_PERSON
	            WHERE GUBUN = 'WORK' 
	            AND CRIS_SEQ = #{seq}
	        ), COMMCODE AS(
	            SELECT CODE_ID, CODE_NAME, CODE_NAME_EN FROM CRIS_COMM_CODE 
	            WHERE CODE_GRP='SHAREMETH'        
	        )             
		SELECT SEQ
	            , SEQ_GROUP, SYSTEM_NUMBER, RESEARCH_NUMBER, SUMMARY_TITLE_KR, SUMMARY_TITLE_EN, TO_CHAR(RESEARCH_TITLE_KR) AS RESEARCH_TITLE_KR, TO_CHAR(RESEARCH_TITLE_EN) AS RESEARCH_TITLE_EN
	            , RESEARCH_ABB_KR, RESEARCH_ABB_EN, FDA_REGULATED_INVESTIGATE_YN, IND_IDE_PROTOCOL_YN
	            , ETC_SYSTEM_REGIST_YN, HCB_APPROVAL_STATUS
	            , IRB_STATUS, IRB_NUMBER, IRB_DATE, IRB_PATH, IRB_FILE, IRB_COMMITTEE_KR, IRB_COMMITTEE_EN
	            , IRB_AGENCY_ZIP, IRB_AGENCY_ADDRESS_KR, IRB_AGENCY_ADDRESS_EN, IRB_PHONE
	            , DATA_MONITOR_COMMITTEE_YN, DATA_MONITOR_COMMITTEE_KR, DATA_MONITOR_COMMITTEE_EN, OVERSIGHT_AUTHORITY, OVERSIGHT_AUTHORITY_AGENCY
	            , RESEARCH_AGENCY_COUNT, RESEARCH_STEP, RESEARCH_STOP_REASON, RESEARCH_STOP_REASON_EN, STUDY_START_DATE, STUDY_START_DATE_GUBUN, ENROLLMENT
	            , PRIMARY_COMPLETE_DATE, STUDY_COMPLETE_DATE, RECORD_VERIFIED_DATE
	            , PRIMARY_COMPLETE_GUBUN, STUDY_COMPLETE_GUBUN
	            , RESEARCH_SUMMARY_KR, RESEARCH_SUMMARY_EN
	            , RESEARCH_KIND, RESEARCH_PURPOSE, RESEARCH_PURPOSE_ETC, RESEARCH_PURPOSE_ETC_EN, CLINICAL_STEP, INTERVENTION_MODEL, INTERVENTION_MODEL_ETC, INTERVENTION_MODEL_ETC_EN
	            , BLINDING, BLINDING_TARGET, ALLOCATION, INTERVENTION_TYPE, INTERVENTION_TYPE_ETC, INTERVENTION_TYPE_ETC_EN, ARM_DESC_KR, ARM_DESC_EN, ARM_NUMBER
	            , OBSERVATIONAL_MODEL, TIME_PERSPECTIVE, TIME_PERSPECTIVE_ETC, TIME_PERSPECTIVE_ETC_EN, OBSERVATION_COUNT
	            , BIOSPECIMEN_RETENTION, BIOSPECIMEN_DESCRIPTION_KR, BIOSPECIMEN_DESCRIPTION_EN, BIOSPECIMEN_ENROLLMENT
	            , STUDY_POPULATION_DESC_KR, STUDY_POPULATION_DESC_EN, SAMPLING_METHOD_KR, SAMPLING_METHOD_EN
	            , TARGET_RARE_YN
	            , TARGET_IN_SEX, TARGET_IN_START_AGE, TARGET_IN_START_AGE_UNIT, TARGET_IN_END_AGE, TARGET_IN_END_AGE_UNIT, TARGET_IN_KR, TARGET_IN_EN
	            , TARGET_OUT_KR, TARGET_OUT_EN, HEALTHY_VOLUNTEERS_YN, TYPE_OF_ENDPOINT
	            , STATUS, VIEW_CNT, VERSION, VERSION_TEMP, REG_ID, INS_ID, INS_IP, INS_DATE, SUB_DATE, UDT_ID, UDT_IP, UDT_DATE, APP_DATE, RESEARCH_NATION
	            , NATION_CENTER_COUNT
	            , TO_CHAR(CP_CONTENTS) AS CP_CONTENTS
	            , CP_CONTENTS_EN
	            , TO_CHAR(INS_DATE,'YYYY/MM/DD') CHG_INS_DATE 
	            , TO_CHAR(SUB_DATE,'YYYY/MM/DD') CHG_SUB_DATE 
	            , TO_CHAR(APP_DATE,'YYYY/MM/DD') CHG_APP_DATE 
	            , TO_CHAR(UDT_DATE,'YYYY/MM/DD') CHG_UDT_DATE
	            , TO_CHAR(LAST_DATE,'YYYY/MM/DD') CHG_LAST_DATE
	            , TO_CHAR(INS_DATE,'YYYYMMDD HH:II') CHG_INS_DATE2
	            , C.STUDY_EMAIL_CONFIRM AS CHARGESTAT, C.EMAIL AS CHARGEEMAIL, C.STUDY_EMAIL_KEY AS CHARGECKEY
	            , W.STUDY_EMAIL_CONFIRM AS WORKSTAT, W.EMAIL AS WORKEMAIL, W.STUDY_EMAIL_KEY AS WORKCKEY
	            , SHARE_YN, SHARE_EXPECT_YEAR, SHARE_EXPECT_MONTH
	            , (CASE WHEN LENGTH(SHARE_EXPECT_MONTH)=1 THEN '0'||SHARE_EXPECT_MONTH ELSE SHARE_EXPECT_MONTH END) AS SHARE_EXPECT_MONTH_AL
	            , CC.CODE_NAME AS SHARE_METHOD_AL, CC.CODE_NAME_EN AS SHARE_METHOD_EN_AL
	            , SHARE_METHOD, SHARE_METHOD_ETC, SHARE_METHOD_ETC_EN
	            , FINAL_ENROLLMENT, FINAL_RESULT_YN, FINAL_RESULT_TYPE
	            , RESULTS_KR_PATH, RESULTS_KR_FILE
	            , PROTOCOL_PATH, PROTOCOL_FILE, PROTOCOL_URL
	            , RESEARCH_RESULT, RESEARCH_RESULT_EN
	            , RESULT_FIRST_DATE, RESULT_UPDATE_DATE     
	            , TO_CHAR(RESULT_FIRST_DATE,'YYYY-MM-DD') AS CHG_RESULT_FIRST_DATE 
	            , TO_CHAR(RESULT_UPDATE_DATE,'YYYY-MM-DD') AS CHG_RESULT_UPDATE_DATE  
	            , PROGRESS_YN
	        FROM CRIS_DATA A, PERSONC C, PERSONW W, COMMCODE CC
	        WHERE A.SEQ = C.CRIS_SEQ(+)
	        AND A.SEQ = W.CRIS_SEQ(+)
	        AND A.SHARE_METHOD = CC.CODE_ID(+)    
	        AND A.SEQ = #{seq}
	</select>
	
	<select id="selectRsSystem"  parameterType="java.util.Map" resultType="java.util.Map" >
		SELECT SEQ, CRIS_SEQ, SYSTEM_CODE, SYSTEM_NUMBER, ETC_SYSTEM,
        (CASE WHEN SYSTEM_CODE='1' THEN 'ClinicalTrials.gov' WHEN  SYSTEM_CODE='2' THEN 'ANZCTR' WHEN  SYSTEM_CODE='3' THEN 'UMIN'
        WHEN  SYSTEM_CODE='4' THEN 'ISRCTN' WHEN  SYSTEM_CODE='5' THEN 'UTN' ELSE ETC_SYSTEM END) AS SYSTEM_NAME 
        FROM CRIS_SYSTEM
        WHERE 1=1
        AND CRIS_SEQ = #{seq}
        ORDER BY SEQ
	</select>
	
	<select id="selectStep"  parameterType="java.util.Map" resultType="java.util.Map" >
		SELECT A.SEQ, A.DATA_SEQ, A.STEP, A.COMMENT1, A.COMMENT2, A.GUBUN
            , TO_CHAR( A.REG_DATE, 'YYYY-MM-DD HH24:MI') AS REG_DATE
            , (CASE WHEN A.REG_DATE>B.INS_DATE THEN 'Y' ELSE 'N' END) AS NEW_YN
        FROM DATA_COMMENT A, CRIS_DATA B
        WHERE 1 = 1
            AND A.DATA_SEQ = B.SEQ
            AND A.GUBUN = #{gubun}
            AND A.DATA_SEQ = #{seq}
        ORDER BY A.SEQ DESC
	</select>
	
	<select id="selectRoleGubun"  parameterType="java.util.Map" resultType="java.util.Map" >
		SELECT A.SEQ, A.CRIS_SEQ, A.GUBUN, A.NAME_KR
        , A.NAME_KR_DEGREE, A.NAME_EN_DEGREE, A.NAME_EN_1ST, A.NAME_EN_MID, A.NAME_EN_LAST
        , A.AGENCY_NAME_KR, A.AGENCY_NAME_EN
        , (CASE WHEN A.AGENCY_NAME_EN IS NOT NULL THEN A.AGENCY_NAME_EN ELSE 
            (SELECT E.AGENCY_NAME_EN 
             FROM VWR_TB_INSTTINFO_NCRC_100_NEW I, VWR_SCH_AGENCY_CODE S, CRIS_AGENCY_EN E
            WHERE 1=1
            AND I.NO_AGENCY_CODE = S.NO_AGENCY_CODE
            AND S.NO_SCH_CODE = E.NO_AGENCY_CODE
            AND I.AGENCY_NAME=TRIM(A.AGENCY_NAME_KR)) END
            ) AS AGENCY_NAME_NEW
        , A.AGENCY_ADDRESS_KR, A.AGENCY_ADDRESS_EN
        , A.PHONE
        , A.NATION, A.CITY, A.FNUM, A.SNUM, A.FCPHONE
        , (CASE WHEN A.NATION='0' THEN (CASE WHEN LENGTH(CITY)>0 AND LENGTH(FNUM)>0 THEN CITY||'-'||FNUM||'-' WHEN CITY IS NULL AND LENGTH(FNUM)>0 THEN FNUM||'-' WHEN LENGTH(CITY)>0 AND FNUM IS NULL THEN CITY||'--' ELSE '' END)||SNUM WHEN A.NATION='1' THEN A.FCPHONE ELSE '' END) AS PHONE_KR
        , (CASE WHEN A.NATION='0' THEN '+82-'||(CASE WHEN LENGTH(CITY)>0 AND LENGTH(FNUM)>0 THEN SUBSTR(CITY,2)||'-'||FNUM||'-' WHEN CITY IS NULL AND LENGTH(FNUM)>0 THEN FNUM||'-' WHEN LENGTH(CITY)>0 AND FNUM IS NULL THEN SUBSTR(CITY,2)||'--' ELSE '' END)||SNUM WHEN A.NATION='1' THEN A.FCPHONE ELSE '' END) AS PHONE_EN
        , A.CONF_HP, A.CONF_HP_YN
        , A.EMAIL, A.UI_IDNO
        , SUBSTR(A.EMAIL, 0, INSTR(A.EMAIL, '@')-1) EMAIL_ID
        , SUBSTR(A.EMAIL, INSTR(A.EMAIL, '@')+1) EMAIL_DOMAIN
        , NVL((SELECT PDATA_YN FROM CRIS_EMAIL E, VWR_TB_EMPLYR_HOME V WHERE E.UI_IDNO = V.UI_IDNO AND V.USERID = A.UI_IDNO),'N') AS PDATA_YN
        , NVL((SELECT WDATA_YN FROM CRIS_EMAIL E, VWR_TB_EMPLYR_HOME V WHERE E.UI_IDNO = V.UI_IDNO AND V.USERID = A.UI_IDNO),'N') AS WDATA_YN
        , A.STUDY_EMAIL_CONFIRM, A.STUDY_EMAIL_KEY, A.CONF_DATE
        , TO_CHAR(A.CONF_DATE,'YYYY-MM-DD hh24:mi:ss') AS CONF_DATE_AL
         FROM CRIS_PERSON A
        WHERE 1 = 1
        AND CRIS_SEQ = #{seq}
	</select>
	
	<select id="selectRsrchInstitute"  parameterType="java.util.Map" resultType="java.util.Map" >
		SELECT SEQ, CRIS_SEQ, GUBUN, RESEARCH_SUBJECT_NUMBER, AGENCY_GROUP, NAME_KR, NAME_EN
            , ADDRESS_KR, ADDRESS_EN, PHONE, FAX, EMAIL
            , SUBSTR(EMAIL, 0, INSTR(EMAIL, '@')-1) EMAIL_ID
            , SUBSTR(EMAIL, INSTR(EMAIL, '@')+1) EMAIL_DOMAIN
            , STEP, STOP_REASON, STOP_REASON_EN, STUDY_START_DATE, STUDY_START_DATE_GUBUN
        FROM CRIS_AGENCY    
        WHERE 1 = 1
        AND CRIS_SEQ = #{seq}
        ORDER BY SEQ ASC
	</select>
	
	<resultMap type="HashMap" id="kindMap">
		<result property="CONTENT_KR" column="CONTENT_KR" jdbcType="CLOB" javaType="java.lang.String" />
	</resultMap>
	
	<select id="selectRsrchKind"  parameterType="java.util.Map" resultType="java.util.Map"  resultMap="kindMap">
		SELECT SEQ, CRIS_SEQ, GUBUN, NAME_KR, NAME_EN, ENROLLMENT, TYPE, CONTENT_KR, CONTENT_EN
			, (SELECT CODE_NAME FROM CRIS_COMM_CODE WHERE CODE_GRP = 'ARMTYPE' AND CODE_ID=TYPE) AS TYPE_KR
	        , (SELECT CODE_NAME_EN FROM CRIS_COMM_CODE WHERE CODE_GRP = 'ARMTYPE' AND CODE_ID=TYPE) AS TYPE_EN
			FROM CRIS_MED
			WHERE 1 = 1
				AND CRIS_SEQ = #{seq}
			ORDER BY SEQ ASC
	</select>
	
	<select id="selectIcd10List"  parameterType="java.util.Map" resultType="java.util.Map">
		SELECT A.SEQ,
        A.CRIS_SEQ, A.ICD10_CODE, B.MY_CODE, B.DISS_CD, B.ICD10_NAME_KR,
        B.ICD10_NAME_EN
        FROM CRIS_ICD10 A, CODE_ICD10 B
        WHERE 1 = 1
        AND A.ICD10_CODE = B.MY_CODE
        AND CRIS_SEQ = #{seq}
        ORDER BY SEQ ASC
	</select>
	
	<select id="selectOutcomeList"  parameterType="java.util.Map" resultType="java.util.Map">
		SELECT SEQ,
		CRIS_SEQ, GUBUN, OUTCOME_KR, TIMEPOINT_KR, OUTCOME_EN, TIMEPOINT_EN
		FROM CRIS_OUTCOME
		WHERE 1 = 1
		AND CRIS_SEQ = #{seq}
		ORDER BY SEQ ASC
	</select>
	
	<select id="selectThesisList"  parameterType="java.util.Map" resultType="java.util.Map">
	  SELECT SEQ, CRIS_SEQ,
       JOURNAL_TITLE, JOURNAL_GUBUN, PAPER_TITLE, PAPER_AUTHOR
       , PAPER_YM
       , PAPER_VOL, PAPER_START_PAGE, PAPER_END_PAGE, PAPER_URL
       FROM CRIS_PAPER
       WHERE 1 =1
       AND CRIS_SEQ = #{seq}
       ORDER BY SEQ ASC
	</select>
	
	
</mapper>